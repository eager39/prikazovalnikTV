<h1>Dodajanje in urejanje posamičnih slidov</h1>

<h2 *ngIf="itemsForm.value.tv">Dodaj slikovni, video, pdf slide</h2>
<form [formGroup]="form" *ngIf="itemsForm.value.tv" (ngSubmit)="onSubmit()">
  
    <div class="form-group">
     
    
      <input type="file" id="avatar" (change)="onFileChange($event)" #fileInput>
      <button type="submit" [disabled]="form.invalid || loading" class="btn btn-success">Naloži <i class="fa fa-spinner fa-spin fa-fw" *ngIf="loading"></i></button>
      <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">Pobrisi datoteko</button>
    </div>
    
    <ng-container *ngIf="uspeh">Uspešno naloženo</ng-container>
    <ng-container *ngIf="napaka">Napaka </ng-container>
  </form>
  <h2 *ngIf="itemsForm.value.tv">Dodaj besedilni slide</h2>
  <form [formGroup]="uploadTextForm" *ngIf="itemsForm.value.tv" (ngSubmit)="addText()">
  Naslov  <input type="text" formControlName="naslov">
  Vsebina  <input type="text" formControlName="vsebina">
  <button type="submit" class="btn btn-success" >Dodaj</button>
  </form>

<!--
  <form [formGroup]="imageForm">
<h1>slike</h1>
  <ul *ngIf="images">
    <li *ngFor="let image of images">
     Ime: {{image.name}} ,aktivno: {{image.active}} ,Vrstni red:<span  >{{image.red}}</span><input type="number" *ngIf="show==image.id" (change)="updateImgRed(image.id,imageForm.value.red)" value="{{image.red}}"  formControlName="red">  <button (click)="showhideImg(image)" class="btn btn-success">Prikazi/skrij</button><button (click)="deleteImg(image.id,image.name)" class="btn btn-success">zbrisi</button><button (click)="edit(image.id)" class="btn btn-success">Spremeni vrsti red</button>
    </li>

  </ul>
  </form>
  <form [formGroup]="videoForm">
  <h1>videji</h1>
  <ul *ngIf="videos">
      <li *ngFor="let video of videos">
          Ime: {{video.name}} ,aktivno: {{video.active}}, Vrstni red:<span>{{video.red}}</span><input type="number" *ngIf="show==video.id" (change)="updateVidRed(video.id,videoForm.value.red)" value="{{video.red}}"  formControlName="red"> <button (click)="showhideVid(video)" class="btn btn-success">Prikazi/skrij</button><button (click)="deleteVid(video.id,video.name)" class="btn btn-success">zbrisi</button><button (click)="edit(video.id)" class="btn btn-success">Spremeni vrsti red</button>
         </li>

    </ul>
  </form>-->
  
  <form [formGroup]="itemsForm" (keydown.enter)="$event.preventDefault()">
    <h3 *ngIf="!itemsForm.value.tv">Izberi TV za urejanje</h3>
     
      <ul > <select formControlName="tv" (change)="izbranitv()">
          <option *ngFor="let tv of tvs" [value]="tv.id">{{tv.name}} {{tv.id}}</option>
        </select>
        <a *ngIf="itemsForm.value.tv" routerLink='/home/{{itemsForm.value.tv}}'>Povezava za TV </a>

<ng-container *ngFor="let item of items">
          <li [ngClass]="{'vidno' : item.active==1,'nevidno' : item.active==0,'asd':ifactive==item.id}" >
            
           Ime: {{item.name}} ,<span class="test" >trajanje: {{item.duration/1000}}s,<button (click)="updateItemDur(item.id,'+',item.duration)" class="btn btn-success">+</button><button (click)="updateItemDur(item.id,'-',item.duration)" class="btn btn-success">-</button> Vrstni red:{{item.ord}} <button (click)="showhideImg(item)" class="btn btn-success">Prikazi/skrij</button><button (click)="deleteImg(item.id,item.name)" class="btn btn-success">zbrisi</button><button (click)="updateImgRed(item.id,'+')" class="btn btn-success">+</button><button (click)="updateImgRed(item.id,'-')" class="btn btn-success">-</button></span>
          </li></ng-container>
      </ul>
    </form>
 
<h3>Dodaj TV</h3>
  <form [formGroup]="tvsForm">
Ime naprave:<input formControlName="name" type="text">
Lokacija:<input formControlName="location" type="text">
<button class="form-control" (click)="addTVs()" class="btn btn-success" type="submit" >Dodaj</button>


<ul >
<ng-container *ngFor="let tv of tvs">
  <li >
    
   Ime: {{tv.name}} , Število slidov na TV: {{tv.numOfSlides}}<button (click)="deleteTV(tv.id)" class="btn btn-success">zbrisi</button>
  </li></ng-container>
</ul>


    </form>
 <button routerLink="/home">Domov</button>